(function(e){function t(t){for(var r,M,l=t[0],s=t[1],c=t[2],o=0,u=[];o<l.length;o++)M=l[o],Object.prototype.hasOwnProperty.call(i,M)&&i[M]&&u.push(i[M][0]),i[M]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);w&&w(t);while(u.length)u.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,l=1;l<n.length;l++){var s=n[l];0!==i[s]&&(r=!1)}r&&(a.splice(t--,1),e=M(M.s=n[0]))}return e}var r={},i={app:0},a=[];function M(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,M),n.l=!0,n.exports}M.m=e,M.c=r,M.d=function(e,t,n){M.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},M.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},M.t=function(e,t){if(1&t&&(e=M(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(M.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)M.d(n,r,function(t){return e[t]}.bind(null,r));return n},M.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return M.d(t,"a",t),t},M.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},M.p="/watermark-web/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var w=s;a.push([1,"chunk-vendors"]),n()})({0:function(e,t){},"051f":function(e,t,n){"use strict";var r=n("b309"),i=n.n(r);n.d(t,"default",(function(){return i.a}))},"07cc":function(e,t,n){e.exports={watermarkOptionContainer:"WatermarkOption_watermarkOptionContainer_1gg0i",radioButton:"WatermarkOption_radioButton_3FoUV",textInput:"WatermarkOption_textInput_gTZ3c",imgSelect:"WatermarkOption_imgSelect_2v094",imgSelectDisabled:"WatermarkOption_imgSelectDisabled_1dlv4",intervalSelection:"WatermarkOption_intervalSelection_3E0eh",intervalSelectionStart:"WatermarkOption_intervalSelectionStart_C7oNe",intervalSelectionActive:"WatermarkOption_intervalSelectionActive_QJmKx",intervalSelectionEnd:"WatermarkOption_intervalSelectionEnd_2zkef"}},1:function(e,t,n){e.exports=n("56d7")},"119c":function(e,t,n){"use strict";var r=n("e0fe"),i=n.n(r);n.d(t,"default",(function(){return i.a}))},1641:function(e,t,n){e.exports={sliderContainer:"RangeSlider_sliderContainer_1MEr_",label:"RangeSlider_label_3YnLt",slider:"RangeSlider_slider_3ToD5",numInput:"RangeSlider_numInput_1gD9P"}},2:function(e,t){},"2af1":function(e,t,n){"use strict";var r=n("9d6f"),i=n.n(r);n.d(t,"default",(function(){return i.a}))},3:function(e,t){},3777:function(e,t,n){"use strict";var r=n("6bac"),i=n.n(r);n.d(t,"default",(function(){return i.a}))},4:function(e,t){},"427d":function(e,t,n){"use strict";var r=n("c855"),i=n.n(r);n.d(t,"default",(function(){return i.a}))},4955:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgaGVpZ2h0PSIxMDAwIiB3aWR0aD0iMTAwMCIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgo8bWV0YWRhdGE+SWNvRm9udCBJY29uczwvbWV0YWRhdGE+Cjx0aXRsZT51aS1kZWxldGU8L3RpdGxlPgo8Z2x5cGggZ2x5cGgtbmFtZT0idWktZGVsZXRlIiB1bmljb2RlPSImI3hlYzUzOyIgaG9yaXotYWR2LXg9IjEwMDAiIC8+CjxwYXRoIGZpbGw9IiMwMGEyODIiIGQ9Ik03OTkuNyAyNzcuMmMtOTcuNDAwMDAwMDAwMDAwMDktMC41LTE5NC44MDAwMDAwMDAwMDAwNy0wLjA5OTk5OTk5OTk5OTk2NTktMjkyLjEtMC4wOTk5OTk5OTk5OTk5NjU5LTEwMyAwLTIwNi4xMDAwMDAwMDAwMDAwMi0wLjcwMDAwMDAwMDAwMDA0NTUtMzA5LjEgMC4zOTk5OTk5OTk5OTk5NzcyNi01MS40MDAwMDAwMDAwMDAwMDYgMC41LTYzLjU5OTk5OTk5OTk5OTk5NCAxNC01Ni42OTk5OTk5OTk5OTk5OSA2NC4xOTk5OTk5OTk5OTk5OSAyNy4xOTk5OTk5OTk5OTk5OSAxOTguMDk5OTk5OTk5OTk5OTcgNTUuNTk5OTk5OTk5OTk5OTk0IDM5Ni4wMDAwMDAwMDAwMDAwNiA4My42OTk5OTk5OTk5OTk5OSA1OTMuOTAwMDAwMDAwMDAwMSA3LjUgNTIuOTk5OTk5OTk5OTk5ODg2IDIwLjU5OTk5OTk5OTk5OTk5NCA2NC4xOTk5OTk5OTk5OTk4MiA3NC4xOTk5OTk5OTk5OTk5OSA2NC4yOTk5OTk5OTk5OTk4NCAxMzguMyAwLjIwMDAwMDAwMDAwMDA0NTQ3IDI3Ni41OTk5OTk5OTk5OTk5NyAwLjIwMDAwMDAwMDAwMDA0NTQ3IDQxNC45MDAwMDAwMDAwMDAwMyAwLjEwMDAwMDAwMDAwMDAyMjc0IDU5LjM5OTk5OTk5OTk5OTk4IDAgNzIuNzk5OTk5OTk5OTk5OTUtMTQuNzAwMDAwMDAwMDAwMDQ1IDc5Ljc5OTk5OTk5OTk5OTk1LTczLjIwMDAwMDAwMDAwMDA1IDIyLjYwMDAwMDAwMDAwMDAyMy0xOTAuMTk5OTk5OTk5OTk5OTMgNDYuMTAwMDAwMDAwMDAwMDItMzgwLjI5OTk5OTk5OTk5OTk1IDcwLjgwMDAwMDAwMDAwMDA3LTU3MC4xOTk5OTk5OTk5OTk5IDguNTk5OTk5OTk5OTk5OTA5LTY1LjcwMDAwMDAwMDAwMDA1IDAtNzktNjUuNS03OS40MDAwMDAwMDAwMDAwM3ogbS00NTMuNiA2MTguMmMtMzMuNjAwMDAwMDAwMDAwMDIgNC4wOTk5OTk5OTk5OTk5MDktNDYuMjAwMDAwMDAwMDAwMDQ1LTIyLjkwMDAwMDAwMDAwMDA5LTQ5LjYwMDAwMDAwMDAwMDAyLTUxLjMwMDAwMDAwMDAwMDA3LTE2LjMwMDAwMDAwMDAwMDAxLTEzNi44OTk5OTk5OTk5OTk5OC0zMS42MDAwMDAwMDAwMDAwMjMtMjc0LTQ3LjQwMDAwMDAwMDAwMDAwNi00MTAuOTAwMDAwMDAwMDAwMDMtMy4wOTk5OTk5OTk5OTk5OTQzLTI3LjE5OTk5OTk5OTk5OTk5IDQuOTAwMDAwMDAwMDAwMDA2LTUwLjE5OTk5OTk5OTk5OTk5IDMzLjIwMDAwMDAwMDAwMDAyLTU0Ljg5OTk5OTk5OTk5OTk4IDMxLjE5OTk5OTk5OTk5OTk5LTUuMTk5OTk5OTk5OTk5OTg5IDQ2LjM5OTk5OTk5OTk5OTk4IDE3IDUwLjA5OTk5OTk5OTk5OTk2NiA0NC42OTk5OTk5OTk5OTk5OSAxMC43MDAwMDAwMDAwMDAwNDUgODAuODk5OTk5OTk5OTk5OTggMjAgMTYyIDI5LjYwMDAwMDAwMDAwMDAyMyAyNDMgNi42MDAwMDAwMDAwMDAwMjMgNTUuODk5OTk5OTk5OTk5OTggMTIuODk5OTk5OTk5OTk5OTc3IDExMS43OTk5OTk5OTk5OTk5NSAxOS4zMDAwMDAwMDAwMDAwMSAxNjcuNzAwMDAwMDAwMDAwMDUgMyAyOS4zOTk5OTk5OTk5OTk5NzctMS4xOTk5OTk5OTk5OTk5ODg2IDU3LjU5OTk5OTk5OTk5OTkxLTM1LjE5OTk5OTk5OTk5OTk5IDYxLjY5OTk5OTk5OTk5OTkzeiBtMjAwLjg5OTk5OTk5OTk5OTk4LTUxLjcwMDAwMDAwMDAwMDA0NWMtMC4xMDAwMDAwMDAwMDAwMjI3NCAyNy44OTk5OTk5OTk5OTk5NzctMTEuNzAwMDAwMDAwMDAwMDQ1IDUzLjE5OTk5OTk5OTk5OTkzLTQyLjM5OTk5OTk5OTk5OTk4IDUyLjY5OTk5OTk5OTk5OTkzLTMzLTAuNjAwMDAwMDAwMDAwMDIyNy00Mi0yNi41LTQxLjcwMDAwMDAwMDAwMDA0NS01Ni43OTk5OTk5OTk5OTk5NTUgMC43MDAwMDAwMDAwMDAwNDU1LTY3LjUgMC4yMDAwMDAwMDAwMDAwNDU0Ny0xMzUuMTAwMDAwMDAwMDAwMDIgMC4yMDAwMDAwMDAwMDAwNDU0Ny0yMDIuNjAwMDAwMDAwMDAwMDJoLTAuNzAwMDAwMDAwMDAwMDQ1NWMwLTY3LjUgMC4zMDAwMDAwMDAwMDAwMTEzNy0xMzUuMTAwMDAwMDAwMDAwMDItMC4wOTk5OTk5OTk5OTk5NjU5LTIwMi42MDAwMDAwMDAwMDAwMi0wLjE5OTk5OTk5OTk5OTk4ODYzLTI5IDQuODAwMDAwMDAwMDAwMDExLTU3LjA5OTk5OTk5OTk5OTk2NiAzOS4wOTk5OTk5OTk5OTk5NjYtNTguODk5OTk5OTk5OTk5OTggMzQuNS0xLjgwMDAwMDAwMDAwMDAxMTQgNDQuNSAyNS44OTk5OTk5OTk5OTk5NzcgNDQuNzAwMDAwMDAwMDAwMDQ1IDU0LjYwMDAwMDAwMDAwMDAyIDEuMTAwMDAwMDAwMDAwMDIyNyAxMzcuNzk5OTk5OTk5OTk5OTUgMS4xOTk5OTk5OTk5OTk5MzE4IDI3NS42OTk5OTk5OTk5OTk5MyAwLjg5OTk5OTk5OTk5OTk3NzMgNDEzLjZ6IG0yMTYuODk5OTk5OTk5OTk5OTgtNDA2LjcwMDAwMDAwMDAwMDA1Yy0xNi41IDEzNi44OTk5OTk5OTk5OTk5OC0zMy43OTk5OTk5OTk5OTk5NTUgMjczLjYtNTEuNSA0MTAuNC0zLjYwMDAwMDAwMDAwMDAyMjcgMjcuNjAwMDAwMDAwMDAwMDIzLTE4LjI5OTk5OTk5OTk5OTk1NSA1MS4zMDAwMDAwMDAwMDAwNy00OC42OTk5OTk5OTk5OTk5MyA0Ni44OTk5OTk5OTk5OTk5OC0zMi43MDAwMDAwMDAwMDAwNDUtNC43OTk5OTk5OTk5OTk5NTQ1LTM4LjMwMDAwMDAwMDAwMDA3LTMxLjU5OTk5OTk5OTk5OTkxLTM0LjIwMDAwMDAwMDAwMDA0NS02MS41OTk5OTk5OTk5OTk5MSA5LjIwMDAwMDAwMDAwMDA0NS02Ni45MDAwMDAwMDAwMDAwOSAxNi42MDAwMDAwMDAwMDAwMjMtMTM0IDI1LjIwMDAwMDAwMDAwMDA0NS0yMDFzMTcuMzk5OTk5OTk5OTk5OTc3LTEzMy45MDAwMDAwMDAwMDAwMyAyNS41LTIwMS4wMDAwMDAwMDAwMDAwNmMzLjUtMjguODAwMDAwMDAwMDAwMDEgMTItNTYgNDYuMjk5OTk5OTk5OTk5OTU1LTUzLjUgMzQuMzk5OTk5OTk5OTk5OTggMi41IDQwLjc5OTk5OTk5OTk5OTk1NSAzMS4zMDAwMDAwMDAwMDAwMSAzNy4zOTk5OTk5OTk5OTk5OCA1OS44MDAwMDAwMDAwMDAwMXogbS0zMzkuNC0zNTAuNWMxNi44MDAwMDAwMDAwMDAwMS04My45IDI1LjUtOTIuNiA4MS44MDAwMDAwMDAwMDAwMS04My44IDk1LjgwMDAwMDAwMDAwMDAxIDE0Ljk5OTk5OTk5OTk5OTk5NiA5OC4zMDAwMDAwMDAwMDAwMSAxOC4wOTk5OTk5OTk5OTk5OTggODUuODAwMDAwMDAwMDAwMDEgMTExLjM5OTk5OTk5OTk5OTk5IDc0IDEzLjEwMDAwMDAwMDAwMDAwOSAxNDguMTAwMDAwMDAwMDAwMDIgMjcuMzAwMDAwMDAwMDAwMDEgMjIyLjYwMDAwMDAwMDAwMDAyIDM5IDMyLjI5OTk5OTk5OTk5OTk1NSA1LjA5OTk5OTk5OTk5OTk5NCA2MS4yOTk5OTk5OTk5OTk5NTUgMTIuNTk5OTk5OTk5OTk5OTk0IDU1Ljc5OTk5OTk5OTk5OTk1NSA1Mi41OTk5OTk5OTk5OTk5OTQtNS44OTk5OTk5OTk5OTk5NzcgNDIuODAwMDAwMDAwMDAwMDEtNDAuNjAwMDAwMDAwMDAwMDIgMzYuOTAwMDAwMDAwMDAwMDA2LTY5LjYwMDAwMDAwMDAwMDAyIDMyLjEwMDAwMDAwMDAwMDAyLTE3Mi0yOC44MDAwMDAwMDAwMDAwMS0zNDMuOS01OC44MDAwMDAwMDAwMDAwMS01MTUuOC04OC40LTM3LjQwMDAwMDAwMDAwMDAzNC02LjUtNzQuNzAwMDAwMDAwMDAwMDItMTQtMTEyLjMwMDAwMDAwMDAwMDAxLTE5LjU5OTk5OTk5OTk5OTk5NC0zMC4yMDAwMDAwMDAwMDAwMTctNC41MDAwMDAwMDAwMDAwMTQtNDcuNjAwMDAwMDAwMDAwMDEtMjAuMjAwMDAwMDAwMDAwMDE3LTQyLjQwMDAwMDAwMDAwMDAwNi01MC45MDAwMDAwMDAwMDAwMDYgNS40MDAwMDAwMDAwMDAwMDYtMzEuNTAwMDAwMDAwMDAwMDA3IDI5LjUtMzguNjAwMDAwMDAwMDAwMDEgNTcuOTAwMDAwMDAwMDAwMDA2LTMzLjcgNzguODAwMDAwMDAwMDAwMDEgMTMuNSAxNTcuNSAyNy41IDIzNi4yIDQxLjN6Ii8+Cjwvc3ZnPg=="},"4ef9":function(e,t,n){e.exports={app:"App_app_3cl75",left:"App_left_11On2",right:"App_right_3MxHp",transitionEnter:"App_transitionEnter_2TBr0",transitionLeaveTo:"App_transitionLeaveTo_I26-T",transitionEnterTo:"App_transitionEnterTo_2Rfn6",transitionLeave:"App_transitionLeave_2WHVN",transitionEnterActive:"App_transitionEnterActive_1pxiP",transitionLeaveActive:"App_transitionLeaveActive_2m60F"}},5:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.$style.app},[n("div",{class:e.$style.left},[n("FileSelect",{directives:[{name:"show",rawName:"v-show",value:0===e.fileList.length,expression:"fileList.length === 0"}],attrs:{multiple:"","accept-types":["application/pdf"],files:e.fileList},on:{"update:files":function(t){e.fileList=t}}}),n("ResultPreview",{directives:[{name:"show",rawName:"v-show",value:e.fileList.length,expression:"fileList.length"}],attrs:{"file-list":e.fileList,"watermark-unit":e.watermarkUnit,"x-interval":e.xInterval,"y-interval":e.yInterval,"selected-pattern":e.selectedPattern},on:{"update:files":function(t){e.fileList=t}}})],1),n("div",{class:e.$style.right},[n("WatermarkOption",{on:{"update:pattern":function(t){e.selectedPattern=t},"update:xinterval":function(t){e.xInterval=t},"update:yinterval":function(t){e.yInterval=t},"update:unit":function(t){e.watermarkUnit=t}}}),n("transition",{attrs:{"enter-class":e.$style.transitionEnter,"enter-active-class":e.$style.transitionEnterActive,"enter-to-class":e.$style.transitionEnterTo,"leave-class":e.$style.transitionLeave,"leave-active-class":e.$style.transitionLeaveActive,"leave-to-class":e.$style.transitionLeaveTo}},[e.showDownloadButton?n("FileDownload",{attrs:{"file-list":e.fileList,"selected-pattern":e.selectedPattern,"x-interval":e.xInterval,"y-interval":e.yInterval,"watermark-unit":e.watermarkUnit}}):e._e()],1)],1)])},a=[],M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.$style.myButtonContainer},[n("MyButton",{attrs:{text:"下載"},on:{click:e.click}})],1)},l=[],s=n("b85c"),c=n("1da1"),w=(n("96cf"),n("a9e3"),n("d3b7"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.$style.buttonContainer},[n("button",{class:e.$style.button,attrs:{type:"button"},on:{click:function(t){return e.$emit("click")}}},[n("span",{class:e.$style.buttonText},[e._v(e._s(e.text))])])])}),o=[],u={name:"MyButton",props:{text:{type:String,default:""}}},D=u,A=n("b6a9"),T=n("2877");function O(e){this["$style"]=A["default"].locals||A["default"]}var k=Object(T["a"])(D,w,o,!1,O,null,null),d=k.exports,p=(n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("3ca3"),n("ddb0"),n("2b3d"),n("b0c0"),n("caad"),n("2532"),n("e198")),f=n("a35b"),v=n("4bdc");"undefined"!==typeof window&&(window.pdfjsWorker=v);var g=f;function y(e){return m.apply(this,arguments)}function m(){return m=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,n=URL.createObjectURL(t),e.next=4,g.getDocument({url:n}).promise;case 4:r=e.sent,i=[],a=1;case 7:if(!(a<=r.numPages)){e.next=16;break}return e.t0=i,e.next=11,r.getPage(a);case 11:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 13:a++,e.next=7;break;case 16:return URL.revokeObjectURL(n),e.abrupt("return",i);case 20:return e.prev=20,e.t2=e["catch"](0),e.abrupt("return","encrypted");case 23:case"end":return e.stop()}}),e,null,[[0,20]])}))),m.apply(this,arguments)}function N(e,t,n){e.render({canvasContext:n.getContext("2d"),viewport:t})}function h(e){return L.apply(this,arguments)}function L(){return L=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=URL.createObjectURL(t),e.next=3,fetch(n).then((function(e){return e.arrayBuffer()}));case 3:return r=e.sent,e.next=6,p["PDFDocument"].load(r);case 6:return i=e.sent,URL.revokeObjectURL(n),e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)}))),L.apply(this,arguments)}function I(e,t,n){return x.apply(this,arguments)}function x(){return x=Object(c["a"])(regeneratorRuntime.mark((function e(t,n,r){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.includes("image/png")){e.next=6;break}return e.next=3,n.embedPng(r);case 3:i=e.sent,e.next=13;break;case 6:if(!t.includes("image/jpg")&&!t.includes("image/jpeg")){e.next=12;break}return e.next=9,n.embedJpg(r);case 9:i=e.sent,e.next=13;break;case 12:console.log("Unsupported file type!");case 13:return e.abrupt("return",i);case 14:case"end":return e.stop()}}),e)}))),x.apply(this,arguments)}function j(e,t){for(var n=0;n<e.length;n++)e[n].drawImage(t,{x:e[n].getWidth()/2-t.width/2,y:e[n].getHeight()/2-t.height/2,width:t.width,height:t.height})}function b(e,t,n,r){for(var i=0;i<e.length;i++)for(var a=e[i].getWidth(),M=e[i].getHeight(),l=0;l*t.width*n-t.width/2<a;l++)for(var s=0;M-s*t.height*r+t.height/2>0;s++)l%2===s%2&&e[i].drawImage(t,{x:l*t.width*n-t.width/2,y:M-s*t.height*r-t.height/2,width:t.width,height:t.height})}function S(e,t){for(var n=0;n<e.length;n++){var r=new Uint8Array(e[n]),i=new Blob([r],{type:"application/pdf"}),a=URL.createObjectURL(i),M=document.createElement("a");M.href=a,M.download=t[n].name,M.click(),URL.revokeObjectURL(a)}}var _={name:"FileDownload",components:{MyButton:d},props:{fileList:{required:!0,validator:function(e){return Array.isArray(e)&&e.every((function(e){return e instanceof File}))}},watermarkUnit:{type:HTMLCanvasElement,required:!0},selectedPattern:{type:String,required:!0},xInterval:{type:Number,default:1},yInterval:{type:Number,default:1}},methods:{click:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.embedWatermark(e.watermarkUnit.toDataURL());case 1:case"end":return t.stop()}}),t)})))()},embedWatermark:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var r,i,a,M,l,c,w,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(""!==e){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,fetch(e).then((function(e){return e.arrayBuffer()}));case 4:r=n.sent,i=[],a=Object(s["a"])(t.fileList),n.prev=7,a.s();case 9:if((M=a.n()).done){n.next=26;break}return l=M.value,n.next=13,h(l);case 13:return c=n.sent,n.next=16,I(e,c,r);case 16:return w=n.sent,o=c.getPages(),"single"===t.selectedPattern?j(o,w):"repeat"===t.selectedPattern&&b(o,w,t.xInterval,t.yInterval),n.t0=i,n.next=22,c.save();case 22:n.t1=n.sent,n.t0.push.call(n.t0,n.t1);case 24:n.next=9;break;case 26:n.next=31;break;case 28:n.prev=28,n.t2=n["catch"](7),a.e(n.t2);case 31:return n.prev=31,a.f(),n.finish(31);case 34:S(i,t.fileList);case 35:case"end":return n.stop()}}),n,null,[[7,28,31,34]])})))()}}},C=_,z=n("b51a");function $(e){this["$style"]=z["default"].locals||z["default"]}var U=Object(T["a"])(C,M,l,!1,$,null,null),E=U.exports,R=function(){var e,t,n=this,r=n.$createElement,i=n._self._c||r;return i("div",{class:(e={},e[n.$style.dropArea]=!0,e[n.$style.dropAreaDisabled]=n.disabled,e),on:{dragover:function(e){return e.preventDefault(),n.dragOver.apply(null,arguments)},drop:function(e){return e.preventDefault(),n.drop.apply(null,arguments)},dragleave:n.dragLeave}},[i("div",{directives:[{name:"show",rawName:"v-show",value:n.isDraggingOver,expression:"isDraggingOver"}],class:n.$style.uploadIcon}),n.files.length?n._e():i("div",{class:n.$style.instruction},[i("label",{class:(t={},t[n.$style.label]=!n.disabled,t[n.$style.labelDragging]=n.isDraggingOver,t)},[i("input",{class:n.$style.input,attrs:{type:"file",accept:n.acceptTypes,multiple:n.multiple,disabled:n.disabled},on:{change:n.onChange}}),n._v(" 請將你的 "),i("span",{class:n.$style.fileType},[n._v(n._s(n.accept))]),n._v(" 檔拖曳至此或 "),i("span",{class:n.$style.wordsToClick},[n._v("點選此處")]),n._v("上傳 ")])]),n.files.length?i("ul",{class:n.$style.list},n._l(n.files,(function(e,t){return i("li",{key:t},[i("span",{class:n.$style.fileName},[n._v(n._s(e.name))]),i("img",{class:n.$style.deleteIcon,attrs:{src:n.deleteIconSrc},on:{mouseover:n.hoverDelete,mouseleave:n.defaultDelete,click:function(t){return n.remove(e)}}})])})),0):n._e()])},P=[],B=n("2909"),Y=(n("a15b"),n("d81d"),n("ac1f"),n("5319"),n("4de4"),n("ec09")),Q=n.n(Y),F=n("4955"),W=n.n(F),H={name:"FileSelect",props:{multiple:{type:Boolean,default:!1},acceptTypes:{validator:function(e){return Array.isArray(e)&&e.every((function(e){return"string"===typeof e}))},required:!0},disabled:{type:Boolean,default:!1},files:{required:!0,validator:function(e){return Array.isArray(e)&&e.every((function(e){return e instanceof File}))}}},data:function(){return{isDraggingOver:!1,deleteIconSrc:Q.a}},computed:{accept:function(){return this.acceptTypes.map((function(e){return e.replace(/application\//g,"").replace(/image\//g,"")})).join(", ")}},methods:{onChange:function(e){this.$emit("update:files",Object(B["a"])(e.target.files)),e.target.value=""},remove:function(e){this.$emit("update:files",this.files.filter((function(t){return t!==e})))},dragOver:function(){this.disabled||(this.isDraggingOver=!0)},drop:function(e){var t=this;if(!this.disabled){this.isDraggingOver=!1;var n=Object(B["a"])(e.dataTransfer.files);this.multiple||(n=[n[0]]),this.$emit("update:files",n.filter((function(e){return t.acceptTypes.includes(e.type)})))}},dragLeave:function(){this.isDraggingOver=!1},hoverDelete:function(){this.deleteIconSrc=W.a},defaultDelete:function(){this.deleteIconSrc=Q.a}}},G=H,Z=n("3777");function J(e){this["$style"]=Z["default"].locals||Z["default"]}var X=Object(T["a"])(G,R,P,!1,J,null,null),q=X.exports,V=function(){var e,t=this,n=t.$createElement,r=t._self._c||n;return r("div",{class:t.$style.watermarkOptionContainer},[r("div",[r("div",{class:t.$style.radioButton},[r("RadioButton",{attrs:{id:"textOption",value:"text",name:"文字浮水印",selected:t.selectedType},on:{"update:selected":function(e){t.selectedType=e}}})],1),r("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],class:t.$style.textInput,attrs:{disabled:"text"!==t.selectedType,placeholder:"請輸入文字",type:"text"},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}})]),r("div",[r("div",{class:t.$style.radioButton},[r("RadioButton",{attrs:{id:"imgOption",value:"img",name:"圖像浮水印",selected:t.selectedType},on:{"update:selected":function(e){t.selectedType=e}}})],1),r("div",{class:(e={},e[t.$style.imgSelect]=!0,e[t.$style.imgSelectDisabled]="img"!==t.selectedType,e)},[r("FileSelect",{attrs:{disabled:"img"!==t.selectedType,"accept-types":["image/png","image/jpg","image/jpeg"],files:t.imgFile},on:{"update:files":function(e){t.imgFile=e}}})],1)]),r("RangeSlider",{attrs:{id:"opacitySelection","slider-name":"不透明度",step:.01},model:{value:t.selectedOpacity,callback:function(e){t.selectedOpacity=e},expression:"selectedOpacity"}}),r("PatternSelect",{attrs:{pattern:t.selectedPattern},on:{"update:pattern":function(e){t.selectedPattern=e}}}),r("transition",{attrs:{"enter-class":t.$style.intervalSelectionStart,"leave-to-class":t.$style.intervalSelectionStart,"enter-active-class":t.$style.intervalSelectionActive,"leave-active-class":t.$style.intervalSelectionActive,"leave-class":t.$style.intervalSelectionEnd,"enter-to-class":t.$style.intervalSelectionEnd}},["repeat"===t.selectedPattern?r("div",{attrs:{"enter-class":t.$style.intervalSelection}},[r("RangeSlider",{attrs:{id:"xIntervalSelection","slider-name":"橫向間距",min:1,max:20,step:.1},model:{value:t.xInterval,callback:function(e){t.xInterval=e},expression:"xInterval"}}),r("RangeSlider",{attrs:{id:"yIntervalSelection","slider-name":"縱向間距",min:1,max:20,step:.1},model:{value:t.yInterval,callback:function(e){t.yInterval=e},expression:"yInterval"}})],1):t._e()])],1)},K=[],ee=(n("a434"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.$style.sliderContainer},[n("label",{class:e.$style.label,attrs:{for:e.id}},[e._v(e._s(e.sliderName))]),n("input",{class:e.$style.slider,attrs:{id:e.id,type:"range",min:e.min,max:e.max,step:e.step},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.valueAsNumber)}}}),n("input",{class:e.$style.numInput,attrs:{type:"number",min:e.min,max:e.max,step:e.step},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.valueAsNumber)}}})])}),te=[],ne={name:"RangeSlider",props:{id:{type:String,required:!0},sliderName:{type:String,required:!0},min:{type:Number,default:0},max:{type:Number,default:1},step:{type:Number,default:1},value:{type:Number,default:0}}},re=ne,ie=n("b7bb");function ae(e){this["$style"]=ie["default"].locals||ie["default"]}var Me=Object(T["a"])(re,ee,te,!1,ae,null,null),le=Me.exports,se=function(){var e,t,n,r,i,a,M,l=this,s=l.$createElement,c=l._self._c||s;return c("div",{class:l.$style.buttonContainer},[c("span",[l._v("排列方式")]),c("button",{class:(e={},e[l.$style.button]=!0,e[l.$style.singleButton]=!0,e[l.$style.buttonSelected]=l.singleSelected,e),attrs:{type:"button"},on:{click:function(e){return l.$emit("update:pattern","single")},mouseover:function(e){l.hover="single"},mouseleave:function(e){l.hover=""}}},[c("svg",{attrs:{height:"22",width:"26"}},[c("circle",{class:(t={},t[l.$style.dotSelected]=l.singleSelected,t[l.$style.dotHovered]=l.singleHovered,t),attrs:{cx:"13",cy:"11",r:"3.5",fill:"#00b491"}})])]),c("button",{class:(n={},n[l.$style.button]=!0,n[l.$style.repeatButton]=!0,n[l.$style.buttonSelected]=!l.singleSelected,n),attrs:{type:"button"},on:{click:function(e){return l.$emit("update:pattern","repeat")},mouseover:function(e){l.hover="repeat"},mouseleave:function(e){l.hover=""}}},[c("svg",{attrs:{height:"22",width:"26"}},[c("circle",{class:(r={},r[l.$style.dotSelected]=!l.singleSelected,r[l.$style.dotHovered]=l.repeatHovered,r),attrs:{cx:"13",cy:"4",r:"3.2",fill:"#00b491"}}),c("circle",{class:(i={},i[l.$style.dotSelected]=!l.singleSelected,i[l.$style.dotHovered]=l.repeatHovered,i),attrs:{cx:"5",cy:"11",r:"3.2",fill:"#00b491"}}),c("circle",{class:(a={},a[l.$style.dotSelected]=!l.singleSelected,a[l.$style.dotHovered]=l.repeatHovered,a),attrs:{cx:"13",cy:"18",r:"3.2",fill:"#00b491"}}),c("circle",{class:(M={},M[l.$style.dotSelected]=!l.singleSelected,M[l.$style.dotHovered]=l.repeatHovered,M),attrs:{cx:"21",cy:"11",r:"3.2",fill:"#00b491"}})])])])},ce=[],we={name:"PatternSelect",props:{pattern:{type:String,default:"single"}},data:function(){return{hover:""}},computed:{singleSelected:function(){return"single"===this.pattern},singleHovered:function(){return"single"!==this.pattern&&"single"===this.hover},repeatHovered:function(){return"repeat"!==this.pattern&&"repeat"===this.hover}}},oe=we,ue=n("427d");function De(e){this["$style"]=ue["default"].locals||ue["default"]}var Ae=Object(T["a"])(oe,se,ce,!1,De,null,null),Te=Ae.exports,Oe=function(){var e,t,n=this,r=n.$createElement,i=n._self._c||r;return i("div",{class:n.$style.buttonContainer},[i("input",{class:n.$style.defaultInput,attrs:{id:n.id,type:"radio"},domProps:{value:n.value}}),i("span",{class:(e={},e[n.$style.radioButton]=!0,e[n.$style.radioButtonClicked]=n.selected===n.value,e),on:{click:function(e){return n.$emit("update:selected",n.value)}}}),i("span",{class:(t={},t[n.$style.dot]=n.selected===n.value,t)}),i("label",{attrs:{for:n.id}},[n._v(" "+n._s(n.name)+" ")])])},ke=[],de={name:"RadioButton",props:{id:{type:String,default:""},value:{type:String,default:""},name:{type:String,default:""},selected:{type:String,required:!0}}},pe=de,fe=n("6617");function ve(e){this["$style"]=fe["default"].locals||fe["default"]}var ge=Object(T["a"])(pe,Oe,ke,!1,ve,null,null),ye=ge.exports;function me(e){e.getContext("2d").clearRect(0,0,e.width,e.height)}function Ne(e){var t=document.createElement("canvas");return t.width=e.width,t.height=e.height,e.toDataURL()===t.toDataURL()}function he(e,t){e.globalAlpha=t,e.textAlign="center",e.textBaseline="middle",e.fillStyle="rgba(100, 100, 100)",e.font="50px Arial"}function Le(e,t){var n=e.measureText(t),r=Math.abs(n.actualBoundingBoxLeft)+Math.abs(n.actualBoundingBoxRight),i=Math.abs(n.actualBoundingBoxAscent)+Math.abs(n.actualBoundingBoxDescent);return[r,i]}function Ie(e){return new Promise((function(t){var n=new FileReader;n.onload=function(){t(n.result)},n.readAsDataURL(e)}))}function xe(e){return je.apply(this,arguments)}function je(){return je=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ie(t);case 2:return n=e.sent,e.abrupt("return",new Promise((function(e){var t=new Image;t.src=n,t.onload=function(){e(t)}})));case 4:case"end":return e.stop()}}),e)}))),je.apply(this,arguments)}function be(e,t,n,r,i){return Se.apply(this,arguments)}function Se(){return Se=Object(c["a"])(regeneratorRuntime.mark((function e(t,n,r,i,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(me(t),!Ne(n)){e.next=3;break}return e.abrupt("return");case 3:"single"===r?_e(t,n):"repeat"===r&&Ce(t,n,i,a);case 4:case"end":return e.stop()}}),e)}))),Se.apply(this,arguments)}function _e(e,t){var n=e.getContext("2d");n.drawImage(t,e.width/2-t.width/2,e.height/2-t.height/2)}function Ce(e,t,n,r){for(var i=e.getContext("2d"),a=t.width,M=t.height,l=0;l*a*n-a/2<e.width;l++)for(var s=0;s*M*r-M/2<e.height;s++)l%2===s%2&&i.drawImage(t,l*a*n-a/2,s*M*r-M/2)}function ze(e,t){var n=document.createElement("canvas"),r=n.getContext("2d"),i=document.createElement("canvas"),a=i.getContext("2d");he(a,t);var M=Le(a,e);return n.width=M[0]+10,n.height=M[1]+10,he(r,t),r.fillText(e,n.width/2,n.height/2),n}function $e(e,t){return Ue.apply(this,arguments)}function Ue(){return Ue=Object(c["a"])(regeneratorRuntime.mark((function e(t,n){var r,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=document.createElement("canvas"),i=r.getContext("2d"),e.next=4,xe(t);case 4:return a=e.sent,r.width=a.width,r.height=a.height,i.globalAlpha=n,i.drawImage(a,0,0),e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)}))),Ue.apply(this,arguments)}var Ee={name:"WatermarkOption",components:{FileSelect:q,PatternSelect:Te,RangeSlider:le,RadioButton:ye},data:function(){return{selectedType:"text",text:"",imgFile:[],selectedOpacity:.5,selectedPattern:"single",xInterval:1,yInterval:1}},watch:{text:"generateWatermarkUnit",imgFile:"generateWatermarkUnit",selectedOpacity:"generateWatermarkUnit",selectedType:"clearAnotherOption",selectedPattern:"getPattern",xInterval:"getXInterval",yInterval:"getYInterval"},methods:{clearAnotherOption:function(){"text"===this.selectedType&&this.imgFile.length>0?this.imgFile.splice(0,1):"img"===this.selectedType&&""!==this.text&&(this.text="")},getPattern:function(){this.$emit("update:pattern",this.selectedPattern)},getXInterval:function(){this.$emit("update:xinterval",this.xInterval)},getYInterval:function(){this.$emit("update:yinterval",this.yInterval)},generateWatermarkUnit:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=document.createElement("canvas"),"text"!==e.selectedType||""===e.text){t.next=5;break}n=ze(e.text,e.selectedOpacity),t.next=9;break;case 5:if(!("img"===e.selectedType&&e.imgFile.length>0)){t.next=9;break}return t.next=8,$e(e.imgFile[0],e.selectedOpacity);case 8:n=t.sent;case 9:e.$emit("update:unit",n);case 10:case"end":return t.stop()}}),t)})))()}}},Re=Ee,Pe=n("96d8");function Be(e){this["$style"]=Pe["default"].locals||Pe["default"]}var Ye=Object(T["a"])(Re,V,K,!1,Be,null,null),Qe=Ye.exports,Fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.$style.resultPreviewContainer},[e.encryptedFiles.length?n("div",{class:e.$style.mask}):e._e(),e.encryptedFiles.length?n("div",{class:e.$style.noticeWindow},[n("NoticeWindow",{attrs:{"file-names":e.encryptedFileNames},on:{confirm:e.confirm}})],1):e._e(),e.selectedIndex>-1?n("div",{class:e.$style.selectionContainer},[n("SelectionMenu",{class:e.$style.selectionMenu,attrs:{"file-list":e.fileListForMenu,selected:e.selectedIndex},on:{"update:selected":function(t){e.selectedIndex=t},"update:files":function(t){return e.$emit("update:files",t)}}}),n("FileSelectButton",{class:e.$style.fileSelectButton,on:{"update:files":function(t){return e.$emit("update:files",t.concat(e.fileList))}}})],1):e._e(),n("div",{ref:"root",class:e.$style.previewContainer},[e._l(e.viewports,(function(t,r){return n("canvas",{key:"pdf"+r,ref:"pdfCanvasRefs",refInFor:!0,class:e.$style.previewCanvas,style:{top:e.canvasHeight[r]+"px"},attrs:{height:t.height,width:t.width}})})),e._l(e.viewports,(function(t,r){return n("canvas",{key:"watermark"+r,ref:"watermarkCanvasRefs",refInFor:!0,class:[e.$style.previewCanvas,e.$style.watermark],style:{top:e.canvasHeight[r]+"px"},attrs:{height:t.height,width:t.width}})}))],2)])},We=[],He=(n("159b"),function(){var e,t,n,r=this,i=r.$createElement,a=r._self._c||i;return a("div",{class:r.$style.menuContainer,attrs:{tabindex:"-1"},on:{blur:function(e){r.isOpened=!1}}},[a("div",{class:(e={},e[r.$style.selected]=!0,e[r.$style.selectedHovered]=r.isSelectedHovered,e[r.$style.selectedClicked]=r.isOpened,e),on:{mouseover:function(e){r.selectedHover=!0},mouseleave:function(e){r.selectedHover=!1},click:function(e){r.isOpened=!r.isOpened}}},[a("div",{class:r.$style.fileName},[r._v(" "+r._s(r.fileList[r.selected].name)+" ")]),a("span",{class:(t={},t[r.$style.triangle]=!0,t[r.$style.triangleClicked]=r.isOpened,t)})]),a("div",{class:(n={},n[r.$style.optionsContainer]=!0,n[r.$style.isClosed]=!r.isOpened,n)},r._l(r.fileList,(function(e,t){var n;return a("div",{key:t,class:(n={},n[r.$style.option]=!0,n[r.$style.optionHovered]=r.isOptionHovered(t),n),attrs:{value:t},on:{mouseover:function(e){r.hover=t}}},[a("div",{class:r.$style.fileName,on:{click:function(e){return r.click(t)}}},[r._v(" "+r._s(e.name)+" ")]),a("img",{directives:[{name:"show",rawName:"v-show",value:r.isOptionHovered(t),expression:"isOptionHovered(index)"}],class:r.$style.deleteIcon,attrs:{src:r.deleteIconSrc},on:{mouseover:r.hoverDelete,mouseleave:r.defaultDelete,click:function(t){return r.remove(e)}}})])})),0)])}),Ge=[],Ze={name:"SelectionMenu",props:{fileList:{required:!0,validator:function(e){return Array.isArray(e)&&e.every((function(e){return e instanceof File}))}},selected:{type:Number,required:!0}},data:function(){return{isOpened:!1,hover:-1,selectedHover:!1,deleteIconSrc:Q.a}},computed:{isSelectedHovered:function(){return!(!this.selectedHover||this.isOpened)}},methods:{isOptionHovered:function(e){return-1===this.hover?this.selected===e:this.hover===e},click:function(e){this.isOpened=!1,this.hover=-1,this.$emit("update:selected",e)},remove:function(e){this.$emit("update:files",this.fileList.filter((function(t){return t!==e})))},hoverDelete:function(){this.deleteIconSrc=W.a},defaultDelete:function(){this.deleteIconSrc=Q.a}}},Je=Ze,Xe=n("119c");function qe(e){this["$style"]=Xe["default"].locals||Xe["default"]}var Ve=Object(T["a"])(Je,He,Ge,!1,qe,null,null),Ke=Ve.exports,et=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{class:e.$style.label},[n("input",{class:e.$style.input,attrs:{type:"file",accept:"application/pdf",multiple:""},on:{change:e.onChange}})])},tt=[],nt={name:"FileSelectButton",methods:{onChange:function(e){this.$emit("update:files",Object(B["a"])(e.target.files)),e.target.value=""}}},rt=nt,it=n("7820");function at(e){this["$style"]=it["default"].locals||it["default"]}var Mt=Object(T["a"])(rt,et,tt,!1,at,null,null),lt=Mt.exports,st=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.$style.noticeWindowContainer},[n("div",{class:e.$style.notice},[n("span",{class:e.$style.noticeText},[e._v(" "+e._s(e.fileNames)+" 已加密"),n("br"),e._v("不支援浮水印 ")])]),n("div",{class:e.$style.buttonContainer},[n("div",{class:e.$style.confirmButton},[n("MyButton",{attrs:{text:"確認"},on:{click:function(t){return e.$emit("confirm")}}})],1)])])},ct=[],wt={name:"NoticeWindow",components:{MyButton:d},props:{fileNames:{type:String,default:""}}},ot=wt,ut=n("051f");function Dt(e){this["$style"]=ut["default"].locals||ut["default"]}var At=Object(T["a"])(ot,st,ct,!1,Dt,null,null),Tt=At.exports;function Ot(e,t,n){var r={root:e,rootMargin:"200% 0px"},i=new IntersectionObserver(n,r);return t.forEach((function(e){return i.observe(e)})),i}function kt(e){e.forEach((function(e){null!==e&&e.disconnect()}))}var dt={name:"ResultPreview",components:{SelectionMenu:Ke,FileSelectButton:lt,NoticeWindow:Tt},props:{fileList:{required:!0,validator:function(e){return Array.isArray(e)&&e.every((function(e){return e instanceof File}))}},watermarkUnit:{type:HTMLCanvasElement,required:!0},selectedPattern:{type:String,default:"single"},xInterval:{type:Number,default:1},yInterval:{type:Number,default:1}},data:function(){return{viewports:[],selectedIndex:-1,fileListForMenu:[],pages:[],encryptedFiles:[],observing:[],pdfObserver:null,watermarkObserver:null}},computed:{canvasHeight:function(){for(var e=[0],t=1;t<this.viewports.length;t++)e.push(e[t-1]+this.viewports[t-1].height);return e},encryptedFileNames:function(){return this.encryptedFiles.map((function(e){return e.name})).join(", ")}},watch:{fileList:"readPdf",selectedIndex:"previewSetup",watermarkUnit:"renderObserving",selectedPattern:"renderObserving",xInterval:"renderObserving",yInterval:"renderObserving"},mounted:function(){document.oncontextmenu=function(){return!1}},beforeDestroy:function(){kt([this.pdfObserver,this.watermarkObserver])},methods:{confirm:function(){var e=this;this.$emit("update:files",this.fileList.filter((function(t){return!e.encryptedFiles.includes(t)}))),this.encryptedFiles=[]},renderObserving:function(){var e=this;this.observing.length>0&&this.observing.forEach((function(t){be(t,e.watermarkUnit,e.selectedPattern,e.xInterval,e.yInterval)}))},readPdf:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n,r,i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.pages=[],!e.fileList.length){t.next=27;break}n=Object(s["a"])(e.fileList),t.prev=3,n.s();case 5:if((r=n.n()).done){t.next=13;break}return i=r.value,t.next=9,y(i);case 9:a=t.sent,"encrypted"===a?e.encryptedFiles.push(i):e.pages.push(a);case 11:t.next=5;break;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](3),n.e(t.t0);case 18:return t.prev=18,n.f(),t.finish(18);case 21:if(!e.encryptedFiles.length){t.next=23;break}return t.abrupt("return");case 23:e.fileListForMenu=e.fileList,0===e.selectedIndex?e.previewSetup():e.selectedIndex=0,t.next=29;break;case 27:e.fileListForMenu=[],e.selectedIndex=-1;case 29:case"end":return t.stop()}}),t,null,[[3,15,18,21]])})))()},previewSetup:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.viewports=[],!(e.selectedIndex<0)){t.next=3;break}return t.abrupt("return");case 3:return kt([e.pdfObserver,e.watermarkObserver]),e.viewports=e.pages[e.selectedIndex].map((function(e){return e.getViewport({scale:1})})),t.next=7,e.$nextTick();case 7:e.pdfObserver=Ot(e.$refs.root,e.$refs.pdfCanvasRefs,e.pdfCallback),e.watermarkObserver=Ot(e.$refs.root,e.$refs.watermarkCanvasRefs,e.watermarkCallback);case 9:case"end":return t.stop()}}),t)})))()},pdfCallback:function(e,t){var n=this;e.forEach((function(e){if(e.isIntersecting){var r=n.$refs.pdfCanvasRefs.indexOf(e.target);N(n.pages[n.selectedIndex][r],n.viewports[r],e.target),t.unobserve(e.target)}}))},watermarkCallback:function(e){var t=this,n=!1;e.forEach((function(e){e.isIntersecting?(n=!0,t.observing.includes(e.target)||t.observing.push(e.target)):t.observing.includes(e.target)&&t.observing.splice(t.observing.indexOf(e.target),1)})),n&&this.renderObserving()}}},pt=dt,ft=n("2af1");function vt(e){this["$style"]=ft["default"].locals||ft["default"]}var gt=Object(T["a"])(pt,Fe,We,!1,vt,null,null),yt=gt.exports,mt={name:"App",components:{FileSelect:q,FileDownload:E,WatermarkOption:Qe,ResultPreview:yt},data:function(){return{fileList:[],watermarkUnit:document.createElement("canvas"),selectedPattern:"single",xInterval:1,yInterval:1}},computed:{showDownloadButton:function(){return this.fileList.length&&!Ne(this.watermarkUnit)}}},Nt=mt,ht=n("8d8d");function Lt(e){this["$style"]=ht["default"].locals||ht["default"]}var It=Object(T["a"])(Nt,i,a,!1,Lt,null,null),xt=It.exports;r["a"].config.productionTip=!1,new r["a"]({render:function(e){return e(xt)}}).$mount("#app")},6:function(e,t){},6617:function(e,t,n){"use strict";var r=n("ad6f"),i=n.n(r);n.d(t,"default",(function(){return i.a}))},"6bac":function(e,t,n){e.exports={dropArea:"FileSelect_dropArea_8rPM0",dropAreaDisabled:"FileSelect_dropAreaDisabled_2m_WO",uploadIcon:"FileSelect_uploadIcon_2Ojs3",input:"FileSelect_input_1qyUX",label:"FileSelect_label_2I8Hc",labelDragging:"FileSelect_labelDragging_yauAx",instruction:"FileSelect_instruction_1sxAp",fileType:"FileSelect_fileType_Wtos3",wordsToClick:"FileSelect_wordsToClick_3er7o",list:"FileSelect_list_3B2ps",fileName:"FileSelect_fileName_3zFbu",deleteIcon:"FileSelect_deleteIcon_2ZNq8"}},7820:function(e,t,n){"use strict";var r=n("d6a9"),i=n.n(r);n.d(t,"default",(function(){return i.a}))},"8d8d":function(e,t,n){"use strict";var r=n("4ef9"),i=n.n(r);n.d(t,"default",(function(){return i.a}))},"96d8":function(e,t,n){"use strict";var r=n("07cc"),i=n.n(r);n.d(t,"default",(function(){return i.a}))},"9d6f":function(e,t,n){e.exports={resultPreviewContainer:"ResultPreview_resultPreviewContainer_1dPry",selectionContainer:"ResultPreview_selectionContainer_16ggh",selectionMenu:"ResultPreview_selectionMenu_1FTCF",fileSelectButton:"ResultPreview_fileSelectButton_WscmX",previewContainer:"ResultPreview_previewContainer_185Qv",previewCanvas:"ResultPreview_previewCanvas_clFA7",watermark:"ResultPreview_watermark_3bN-E",mask:"ResultPreview_mask_37ruv",noticeWindow:"ResultPreview_noticeWindow_3Wfoe"}},ad6f:function(e,t,n){e.exports={buttonContainer:"RadioButton_buttonContainer_MJqll",defaultInput:"RadioButton_defaultInput_2aNbm",radioButton:"RadioButton_radioButton_1JrdG",radioButtonClicked:"RadioButton_radioButtonClicked_2XwQJ",dot:"RadioButton_dot_297AR"}},b309:function(e,t,n){e.exports={noticeWindowContainer:"NoticeWindow_noticeWindowContainer_26Zym",notice:"NoticeWindow_notice_9bSe5",noticeText:"NoticeWindow_noticeText_2giDJ",buttonContainer:"NoticeWindow_buttonContainer_gMiUe",confirmButton:"NoticeWindow_confirmButton_1R1r9"}},b51a:function(e,t,n){"use strict";var r=n("dddf"),i=n.n(r);n.d(t,"default",(function(){return i.a}))},b6a9:function(e,t,n){"use strict";var r=n("fcc2"),i=n.n(r);n.d(t,"default",(function(){return i.a}))},b7bb:function(e,t,n){"use strict";var r=n("1641"),i=n.n(r);n.d(t,"default",(function(){return i.a}))},c855:function(e,t,n){e.exports={buttonContainer:"PatternSelect_buttonContainer_15XpJ",button:"PatternSelect_button_2elic",buttonSelected:"PatternSelect_buttonSelected_3deav",singleButton:"PatternSelect_singleButton_1K1Lk",repeatButton:"PatternSelect_repeatButton_3Attx",dotSelected:"PatternSelect_dotSelected_2a2VC",dotHovered:"PatternSelect_dotHovered_1Ep_h"}},d6a9:function(e,t,n){e.exports={label:"FileSelectButton_label_Dqo61",input:"FileSelectButton_input_Pr29n"}},dddf:function(e,t,n){e.exports={myButtonContainer:"FileDownload_myButtonContainer_3qgNO"}},e0fe:function(e,t,n){e.exports={menuContainer:"SelectionMenu_menuContainer_2pGk0",selected:"SelectionMenu_selected_CGV8W",selectedHovered:"SelectionMenu_selectedHovered_3ZKKy",selectedClicked:"SelectionMenu_selectedClicked_2_zj1",fileName:"SelectionMenu_fileName_2x348",triangle:"SelectionMenu_triangle_DYsZj",triangleClicked:"SelectionMenu_triangleClicked_1rUbX",optionsContainer:"SelectionMenu_optionsContainer_22-d0",isClosed:"SelectionMenu_isClosed_1oU9p",option:"SelectionMenu_option_1JViX",optionHovered:"SelectionMenu_optionHovered_2SU3P",deleteIcon:"SelectionMenu_deleteIcon_v9IIA"}},ec09:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgaGVpZ2h0PSIxMDAwIiB3aWR0aD0iMTAwMCIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgo8bWV0YWRhdGE+SWNvRm9udCBJY29uczwvbWV0YWRhdGE+Cjx0aXRsZT51aS1kZWxldGU8L3RpdGxlPgo8Z2x5cGggZ2x5cGgtbmFtZT0idWktZGVsZXRlIiB1bmljb2RlPSImI3hlYzUzOyIgaG9yaXotYWR2LXg9IjEwMDAiIC8+CjxwYXRoIGZpbGw9IiMxZTI4MzIiIGQ9Ik03OTkuNyAyNzcuMmMtOTcuNDAwMDAwMDAwMDAwMDktMC41LTE5NC44MDAwMDAwMDAwMDAwNy0wLjA5OTk5OTk5OTk5OTk2NTktMjkyLjEtMC4wOTk5OTk5OTk5OTk5NjU5LTEwMyAwLTIwNi4xMDAwMDAwMDAwMDAwMi0wLjcwMDAwMDAwMDAwMDA0NTUtMzA5LjEgMC4zOTk5OTk5OTk5OTk5NzcyNi01MS40MDAwMDAwMDAwMDAwMDYgMC41LTYzLjU5OTk5OTk5OTk5OTk5NCAxNC01Ni42OTk5OTk5OTk5OTk5OSA2NC4xOTk5OTk5OTk5OTk5OSAyNy4xOTk5OTk5OTk5OTk5OSAxOTguMDk5OTk5OTk5OTk5OTcgNTUuNTk5OTk5OTk5OTk5OTk0IDM5Ni4wMDAwMDAwMDAwMDAwNiA4My42OTk5OTk5OTk5OTk5OSA1OTMuOTAwMDAwMDAwMDAwMSA3LjUgNTIuOTk5OTk5OTk5OTk5ODg2IDIwLjU5OTk5OTk5OTk5OTk5NCA2NC4xOTk5OTk5OTk5OTk4MiA3NC4xOTk5OTk5OTk5OTk5OSA2NC4yOTk5OTk5OTk5OTk4NCAxMzguMyAwLjIwMDAwMDAwMDAwMDA0NTQ3IDI3Ni41OTk5OTk5OTk5OTk5NyAwLjIwMDAwMDAwMDAwMDA0NTQ3IDQxNC45MDAwMDAwMDAwMDAwMyAwLjEwMDAwMDAwMDAwMDAyMjc0IDU5LjM5OTk5OTk5OTk5OTk4IDAgNzIuNzk5OTk5OTk5OTk5OTUtMTQuNzAwMDAwMDAwMDAwMDQ1IDc5Ljc5OTk5OTk5OTk5OTk1LTczLjIwMDAwMDAwMDAwMDA1IDIyLjYwMDAwMDAwMDAwMDAyMy0xOTAuMTk5OTk5OTk5OTk5OTMgNDYuMTAwMDAwMDAwMDAwMDItMzgwLjI5OTk5OTk5OTk5OTk1IDcwLjgwMDAwMDAwMDAwMDA3LTU3MC4xOTk5OTk5OTk5OTk5IDguNTk5OTk5OTk5OTk5OTA5LTY1LjcwMDAwMDAwMDAwMDA1IDAtNzktNjUuNS03OS40MDAwMDAwMDAwMDAwM3ogbS00NTMuNiA2MTguMmMtMzMuNjAwMDAwMDAwMDAwMDIgNC4wOTk5OTk5OTk5OTk5MDktNDYuMjAwMDAwMDAwMDAwMDQ1LTIyLjkwMDAwMDAwMDAwMDA5LTQ5LjYwMDAwMDAwMDAwMDAyLTUxLjMwMDAwMDAwMDAwMDA3LTE2LjMwMDAwMDAwMDAwMDAxLTEzNi44OTk5OTk5OTk5OTk5OC0zMS42MDAwMDAwMDAwMDAwMjMtMjc0LTQ3LjQwMDAwMDAwMDAwMDAwNi00MTAuOTAwMDAwMDAwMDAwMDMtMy4wOTk5OTk5OTk5OTk5OTQzLTI3LjE5OTk5OTk5OTk5OTk5IDQuOTAwMDAwMDAwMDAwMDA2LTUwLjE5OTk5OTk5OTk5OTk5IDMzLjIwMDAwMDAwMDAwMDAyLTU0Ljg5OTk5OTk5OTk5OTk4IDMxLjE5OTk5OTk5OTk5OTk5LTUuMTk5OTk5OTk5OTk5OTg5IDQ2LjM5OTk5OTk5OTk5OTk4IDE3IDUwLjA5OTk5OTk5OTk5OTk2NiA0NC42OTk5OTk5OTk5OTk5OSAxMC43MDAwMDAwMDAwMDAwNDUgODAuODk5OTk5OTk5OTk5OTggMjAgMTYyIDI5LjYwMDAwMDAwMDAwMDAyMyAyNDMgNi42MDAwMDAwMDAwMDAwMjMgNTUuODk5OTk5OTk5OTk5OTggMTIuODk5OTk5OTk5OTk5OTc3IDExMS43OTk5OTk5OTk5OTk5NSAxOS4zMDAwMDAwMDAwMDAwMSAxNjcuNzAwMDAwMDAwMDAwMDUgMyAyOS4zOTk5OTk5OTk5OTk5NzctMS4xOTk5OTk5OTk5OTk5ODg2IDU3LjU5OTk5OTk5OTk5OTkxLTM1LjE5OTk5OTk5OTk5OTk5IDYxLjY5OTk5OTk5OTk5OTkzeiBtMjAwLjg5OTk5OTk5OTk5OTk4LTUxLjcwMDAwMDAwMDAwMDA0NWMtMC4xMDAwMDAwMDAwMDAwMjI3NCAyNy44OTk5OTk5OTk5OTk5NzctMTEuNzAwMDAwMDAwMDAwMDQ1IDUzLjE5OTk5OTk5OTk5OTkzLTQyLjM5OTk5OTk5OTk5OTk4IDUyLjY5OTk5OTk5OTk5OTkzLTMzLTAuNjAwMDAwMDAwMDAwMDIyNy00Mi0yNi41LTQxLjcwMDAwMDAwMDAwMDA0NS01Ni43OTk5OTk5OTk5OTk5NTUgMC43MDAwMDAwMDAwMDAwNDU1LTY3LjUgMC4yMDAwMDAwMDAwMDAwNDU0Ny0xMzUuMTAwMDAwMDAwMDAwMDIgMC4yMDAwMDAwMDAwMDAwNDU0Ny0yMDIuNjAwMDAwMDAwMDAwMDJoLTAuNzAwMDAwMDAwMDAwMDQ1NWMwLTY3LjUgMC4zMDAwMDAwMDAwMDAwMTEzNy0xMzUuMTAwMDAwMDAwMDAwMDItMC4wOTk5OTk5OTk5OTk5NjU5LTIwMi42MDAwMDAwMDAwMDAwMi0wLjE5OTk5OTk5OTk5OTk4ODYzLTI5IDQuODAwMDAwMDAwMDAwMDExLTU3LjA5OTk5OTk5OTk5OTk2NiAzOS4wOTk5OTk5OTk5OTk5NjYtNTguODk5OTk5OTk5OTk5OTggMzQuNS0xLjgwMDAwMDAwMDAwMDAxMTQgNDQuNSAyNS44OTk5OTk5OTk5OTk5NzcgNDQuNzAwMDAwMDAwMDAwMDQ1IDU0LjYwMDAwMDAwMDAwMDAyIDEuMTAwMDAwMDAwMDAwMDIyNyAxMzcuNzk5OTk5OTk5OTk5OTUgMS4xOTk5OTk5OTk5OTk5MzE4IDI3NS42OTk5OTk5OTk5OTk5MyAwLjg5OTk5OTk5OTk5OTk3NzMgNDEzLjZ6IG0yMTYuODk5OTk5OTk5OTk5OTgtNDA2LjcwMDAwMDAwMDAwMDA1Yy0xNi41IDEzNi44OTk5OTk5OTk5OTk5OC0zMy43OTk5OTk5OTk5OTk5NTUgMjczLjYtNTEuNSA0MTAuNC0zLjYwMDAwMDAwMDAwMDAyMjcgMjcuNjAwMDAwMDAwMDAwMDIzLTE4LjI5OTk5OTk5OTk5OTk1NSA1MS4zMDAwMDAwMDAwMDAwNy00OC42OTk5OTk5OTk5OTk5MyA0Ni44OTk5OTk5OTk5OTk5OC0zMi43MDAwMDAwMDAwMDAwNDUtNC43OTk5OTk5OTk5OTk5NTQ1LTM4LjMwMDAwMDAwMDAwMDA3LTMxLjU5OTk5OTk5OTk5OTkxLTM0LjIwMDAwMDAwMDAwMDA0NS02MS41OTk5OTk5OTk5OTk5MSA5LjIwMDAwMDAwMDAwMDA0NS02Ni45MDAwMDAwMDAwMDAwOSAxNi42MDAwMDAwMDAwMDAwMjMtMTM0IDI1LjIwMDAwMDAwMDAwMDA0NS0yMDFzMTcuMzk5OTk5OTk5OTk5OTc3LTEzMy45MDAwMDAwMDAwMDAwMyAyNS41LTIwMS4wMDAwMDAwMDAwMDAwNmMzLjUtMjguODAwMDAwMDAwMDAwMDEgMTItNTYgNDYuMjk5OTk5OTk5OTk5OTU1LTUzLjUgMzQuMzk5OTk5OTk5OTk5OTggMi41IDQwLjc5OTk5OTk5OTk5OTk1NSAzMS4zMDAwMDAwMDAwMDAwMSAzNy4zOTk5OTk5OTk5OTk5OCA1OS44MDAwMDAwMDAwMDAwMXogbS0zMzkuNC0zNTAuNWMxNi44MDAwMDAwMDAwMDAwMS04My45IDI1LjUtOTIuNiA4MS44MDAwMDAwMDAwMDAwMS04My44IDk1LjgwMDAwMDAwMDAwMDAxIDE0Ljk5OTk5OTk5OTk5OTk5NiA5OC4zMDAwMDAwMDAwMDAwMSAxOC4wOTk5OTk5OTk5OTk5OTggODUuODAwMDAwMDAwMDAwMDEgMTExLjM5OTk5OTk5OTk5OTk5IDc0IDEzLjEwMDAwMDAwMDAwMDAwOSAxNDguMTAwMDAwMDAwMDAwMDIgMjcuMzAwMDAwMDAwMDAwMDEgMjIyLjYwMDAwMDAwMDAwMDAyIDM5IDMyLjI5OTk5OTk5OTk5OTk1NSA1LjA5OTk5OTk5OTk5OTk5NCA2MS4yOTk5OTk5OTk5OTk5NTUgMTIuNTk5OTk5OTk5OTk5OTk0IDU1Ljc5OTk5OTk5OTk5OTk1NSA1Mi41OTk5OTk5OTk5OTk5OTQtNS44OTk5OTk5OTk5OTk5NzcgNDIuODAwMDAwMDAwMDAwMDEtNDAuNjAwMDAwMDAwMDAwMDIgMzYuOTAwMDAwMDAwMDAwMDA2LTY5LjYwMDAwMDAwMDAwMDAyIDMyLjEwMDAwMDAwMDAwMDAyLTE3Mi0yOC44MDAwMDAwMDAwMDAwMS0zNDMuOS01OC44MDAwMDAwMDAwMDAwMS01MTUuOC04OC40LTM3LjQwMDAwMDAwMDAwMDAzNC02LjUtNzQuNzAwMDAwMDAwMDAwMDItMTQtMTEyLjMwMDAwMDAwMDAwMDAxLTE5LjU5OTk5OTk5OTk5OTk5NC0zMC4yMDAwMDAwMDAwMDAwMTctNC41MDAwMDAwMDAwMDAwMTQtNDcuNjAwMDAwMDAwMDAwMDEtMjAuMjAwMDAwMDAwMDAwMDE3LTQyLjQwMDAwMDAwMDAwMDAwNi01MC45MDAwMDAwMDAwMDAwMDYgNS40MDAwMDAwMDAwMDAwMDYtMzEuNTAwMDAwMDAwMDAwMDA3IDI5LjUtMzguNjAwMDAwMDAwMDAwMDEgNTcuOTAwMDAwMDAwMDAwMDA2LTMzLjcgNzguODAwMDAwMDAwMDAwMDEgMTMuNSAxNTcuNSAyNy41IDIzNi4yIDQxLjN6Ii8+Cjwvc3ZnPg=="},fcc2:function(e,t,n){e.exports={buttonContainer:"MyButton_buttonContainer_l_03V",button:"MyButton_button_ydCJJ",buttonText:"MyButton_buttonText_3rqDl"}}});
//# sourceMappingURL=app.3e8c3439.js.map